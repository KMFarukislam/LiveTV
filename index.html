<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bangladesh IPTV</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { background:#111; color:#fff; font-family:Arial; margin:0 }
    video { width:100%; max-height:40vh; background:#000 }
    ul { list-style:none; padding:0; margin:0 }
    li { padding:12px; border-bottom:1px solid #333; cursor:pointer; display:flex; align-items:center }
    li:hover { background:#222 }
    img { height:24px; margin-right:10px }
  </style>
</head>
<body>

<video id="player" controls autoplay></video>

<ul id="list"></ul>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
fetch("data/channels.json")
  .then(r => r.json())
  .then(data => {
    data.channels.forEach(ch => {
      const li = document.createElement("li");
      li.innerHTML = `<img src="${ch.logo}">${ch.name}`;
      li.onclick = () => play(ch.url);
      document.getElementById("list").appendChild(li);
    });
  });

function play(url) {
  const video = document.getElementById("player");
  if (Hls.isSupported()) {
    const hls = new Hls();
    hls.loadSource(url);
    hls.attachMedia(video);
  } else {
    video.src = url;
  }
}
</script>

</body>
</html>
